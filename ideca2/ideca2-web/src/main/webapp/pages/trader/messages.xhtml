<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	template="/WEB-INF/templates/traderTemplate/traderTemplate.xhtml"
	xmlns:p="http://primefaces.org/ui">
	<ui:define name="titleName">MESSAGES</ui:define>
	<ui:define name="menuContent">
		<li><a href="#{request.contextPath}/pages/trader/home.xhtml"><i
				class="fa fa-home" /> HOME</a></li>
		<li><a
			href="#{request.contextPath}/pages/trader/menuProduct.xhtml"><i
				class="fa fa-money" /> FINANCIAL PRODUCTS</a></li>
		<li><a href="#{request.contextPath}/pages/trader/trades.xhtml"><i
				class="fa fa-shopping-cart" /> MY TRADES</a></li>
		<li><a class="menu-top-active"
			href="#{request.contextPath}/pages/trader/messages.xhtml"><i
				class="fa fa-wechat" /> MESSAGES</a></li>
		<li><a href="#{request.contextPath}/pages/trader/contactUs.xhtml"><i
				class="fa fa-inbox" /> CONTACT US</a></li>
	</ui:define>

	<ui:define name="PageName">MESSAGE MENAGEMENT</ui:define>
	<ui:define name="PageContent">

		<div class="panel panel-default">
			<div class="panel-heading">
				<h4 style="color: #c11313">INBOX</h4>
			</div>
			<div class="panel-body">

				<div class="table-responsive">
					<h:form>
						<h:dataTable class="table table-striped"
							value="#{messageBean.messages}" var="m">
							<h:column>
								<f:facet name="header">ID Message</f:facet>
								<h:outputText value="#{m.id}" />
							</h:column>
							<h:column>
								<f:facet name="header">Date</f:facet>
								<h:outputText value="#{m.date}" />
							</h:column>
							<h:column>
								<f:facet name="header">Text</f:facet>
								<h:outputText value="#{m.texte}" />
							</h:column>
							<h:column>
								<f:facet name="header">Sender</f:facet>
								<h:outputText value="#{m.userSource.login}" />
							</h:column>
						</h:dataTable>
					</h:form>
				</div>
			</div>
		</div>

		<div class="panel panel-default">
			<div class="panel-heading">
				<h4 style="color: #c11313">SEND MESSAGE</h4>
			</div>
			<div class="panel-body">
				<h:form>


					<label>Destination </label>
					<h:selectOneMenu id="txt3" value="#{messageBean.traderDest}"
						class="form-control">
						<f:selectItems value="#{messageBean.tradersNames}" />
					</h:selectOneMenu>
					<label>Message</label>
					<p:inputTextarea value="#{messageBean.text}" class="form-control" />
					<hr />


					<h:commandButton class="btn btn-info"
						action="#{messageBean.doSend()}" value="Send" />
				</h:form>
			</div>
		</div>

	</ui:define>
</ui:composition>
